{{extend defaultLayout}}

{{block 'css'}}
<link rel="stylesheet" type="text/css" href="{{_res_path}}/stat/common.css?v=1.0"/>
<link rel="stylesheet" type="text/css" href="{{_res_path}}/stat/abyss-team.css?v=1.0"/>
{{/block}}

{{block 'main'}}
<div class="info_box">
  <div class="head-box type{{bgType}}">
    <div class="title">深渊配队建议</div>
    <div class="genshin-logo"></div>
  </div>

  <div class="cont">
    <div class="cont-title">深渊配队说明</div>
    <div class="cont-body">
      <ul class="cont-msg">
        <li>深渊出场数据来自DGP-Studio<strong>胡桃API</strong>，为Snap Hutao / Miao-Plugin 用户自主上传的角色池信息</li>
        <li>您可以通过<strong>#上传深渊数据</strong>命令来上传角色记录，来帮助我们获取更多组队信息。</li>
        <li>上传命令<strong>仅会上传您的角色列表及当期深渊挑战数据</strong>，不会上传其他额外信息</li>
        <li>月初及月中深渊刚刷新后挑战数据可能不足，请等待几天之后数据会逐步稳定</li>
        <li>若当前记录可用配队方案少于4组时，会使用未持有角色的方案进行补充</li>
        <li>配队列表<strong>仅供参考</strong>，可根据账号实际情况及个人倾向进行灵活调整</li>
      </ul>
    </div>
  </div>

  {{each teams floorTeam floor}}
  <div class="cont">

    <div class="cont-table">
      <div class="tr thead">
        <div>{{floor}}层</div>
        <div>上半</div>
        <div>下半</div>
      </div>
      {{each floorTeam team idx}}
      <div class="tr">
        <div class="title">配队{{idx+1}}<span class="team-count">{{team.count}}次记录</span></div>
        {{each team teamData key}}
        {{if key === "up" || key === "down"}}
        <div>
          <div class="card-list">
            {{each teamData.teamArr id}}
            <div
                class="card star{{avatars[id].star == 4 ? 4:5}} {{ avatars[id].level*1 === 0 ? 'no-character':'has-character'}}">
              <img class="role" src="{{_res_path}}{{avatars[id].face}}"/>
              <span class="cons cons-{{avatars[id].cons}} for-has">{{avatars[id].cons}}</span>
              <span class="lvl for-has">Lv.{{avatars[id].level}}</span>
              <span class="for-no no-label">暂无</span>
            </div>
            {{/each}}
          </div>
        </div>
        {{/if}}
        {{/each}}
      </div>
      {{/each}}
    </div>
  </div>
  {{/each}}
</div>
{{/block}}